"""
LLM 파서용 프롬프트 정의
"""

EXTRACTION_PROMPT = """당신은 수영장 자유수영 안내문에서 정보를 추출하는 전문가입니다.

아래 텍스트에서 자유수영 관련 정보만 추출하여 JSON 형식으로 반환해주세요.
강습 프로그램 정보는 제외하고, 오직 자유수영(일일발권) 정보만 추출합니다.

추출할 정보:
1. facility_name: 시설명 (수영장 이름)
2. valid_month: 프로그램이 적용되는 월 (YYYY년 M월 형식으로 반환)
   - **연도 추출 우선순위 (중요!):**
     1순위: 공지사항 제목(notice_title)에 명시된 연도와 월
       * 제목: "2026년 1월 수영 프로그램 운영 안내" → "2026년 1월"
       * 제목: "2025년 12월 수영장 이용 안내" → "2025년 12월"
       * **제목에 명시된 연도와 월을 절대 우선으로 사용할 것**
     2순위: 문서 첫 줄에 있는 "YYYY년 X월 수영 프로그램" 형태
     3순위: 문서 내용에서 찾은 년도 + 첫 줄의 월 조합
       * 예: 첫 줄 "2월 수영 프로그램" + 문서 내 "2026년" → "2026년 2월"
     4순위: 공지 등록일(notice_date)을 참고하여 추론
       * 등록일이 "2025-10-20"이고 문서가 "11월 프로그램"이면 → "2025년 11월"
       * 등록일이 "2025-12-19"이고 문서가 "1월 프로그램"이면 → "2026년 1월" (다음해)
   - **주의사항:**
     * 절대로 현재 날짜를 기준으로 연도를 추론하지 말 것
     * 등록일보다 1년 이상 미래의 연도를 생성하지 말 것
     * 문서 첫 줄의 월을 사용하고, 다른 월로 변경하지 말 것
3. schedules: 요일별 자유수영 스케줄
   - day_type: "평일", "토요일", "일요일" 중 하나
   - season: 계절 구분 ("하절기", "동절기", 또는 계절 구분이 없으면 빈 문자열 "")
   - season_months: 적용 월 (예: "3~10월", "11~2월", 또는 계절 구분이 없으면 빈 문자열 "")
   - sessions: 각 세션 정보 배열
     - session_name: 세션명 (아침, 점심, 저녁, 1부, 2부 등)
     - start_time: 시작 시간 (HH:MM 형식)
     - end_time: 종료 시간 (HH:MM 형식)
     - capacity: 정원 (숫자, 없으면 null)
     - lanes: 레인 수 (숫자, 없으면 null)
4. fees: 이용료 정보 배열
   - category: 대상 (성인, 청소년, 어린이 등)
   - price: 금액 (숫자만, 원 단위)
   - note: 비고 (조건 등)
5. notes: 기타 중요 안내사항 (배열)

중요: 토요일/일요일에 하절기(3~10월)와 동절기(11~2월) 운영시간이 다르면 각각 별도의 스케줄로 분리해서 추출하세요.

응답 형식 (JSON만 반환, 다른 텍스트 없이):
{
  "facility_name": "시설명",
  "valid_month": "2026년 2월",
  "schedules": [
    {
      "day_type": "평일",
      "season": "",
      "season_months": "",
      "sessions": [
        {"session_name": "아침", "start_time": "08:00", "end_time": "08:50", "capacity": 30, "lanes": 6}
      ]
    },
    {
      "day_type": "토요일",
      "season": "동절기",
      "season_months": "11~2월",
      "sessions": [
        {"session_name": "1부", "start_time": "06:30", "end_time": "08:00", "capacity": 80, "lanes": 6}
      ]
    },
    {
      "day_type": "토요일",
      "season": "하절기",
      "season_months": "3~10월",
      "sessions": [
        {"session_name": "1부", "start_time": "06:30", "end_time": "08:00", "capacity": 80, "lanes": 6}
      ]
    }
  ],
  "fees": [
    {"category": "성인", "price": 3000, "note": ""}
  ],
  "notes": ["48개월 미만 영아 출입 불가"]
}

텍스트:
"""
